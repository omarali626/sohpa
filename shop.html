<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shop - E-Commerce Store</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="cart-notification" style="display:none;" class="notification"></div>
    <nav>
        <a href="index.html">Home</a> |
        <a href="shop.html">Shop</a> |
        <a href="cart.html">Cart</a> |
        <a href="settings.html">Settings</a> |
        <a href="payment.html">Payment</a> |
        <a href="login.html">Login / Register</a>
    </nav>
    <section class="container">
        <h1>Product List</h1>
        <div id="products-list"></div>
    </section>
    <script>
        const products = [
            { id: 1, name: "Product 1", price: 100 },
            { id: 2, name: "Product 2", price: 150 },
            { id: 3, name: "Product 3", price: 200 }
        ];
        const productsList = document.getElementById('products-list');
        products.forEach(product => {
            const div = document.createElement('div');
            div.innerHTML = `${product.name} - $${product.price} `;
            const button = document.createElement('button');
            button.textContent = "Add to Cart";
            button.onclick = function() {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                const existingProduct = cart.find(item => item.id === product.id);
                if (existingProduct) {
                    existingProduct.quantity += 1;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                localStorage.setItem('cart', JSON.stringify(cart));
                console.log('Cart updated in shop.html:', JSON.parse(localStorage.getItem('cart')));
                // إزالة أي إشعار سابق بجوار الزر
                const oldNotif = div.querySelector('.inline-notification');
                if (oldNotif) oldNotif.remove();
                // إنشاء إشعار جديد بجوار الزر
                const notif = document.createElement('span');
                notif.className = 'inline-notification';
                notif.textContent = '✔️ Added!';
                button.after(notif);
                // تأثير على الزر
                button.classList.add('added');
                setTimeout(() => {
                    notif.remove();
                    button.classList.remove('added');
                }, 1500);
            };
            div.appendChild(button);
            productsList.appendChild(div);
        });
    </script>
    <script>
    function showCartNotification(message) {
        const notif = document.getElementById('cart-notification');
        notif.textContent = message;
        notif.style.display = 'block';
        notif.style.opacity = '1';
        setTimeout(() => {
            notif.style.opacity = '0';
            setTimeout(() => notif.style.display = 'none', 300);
        }, 2000);
    }
    </script>
</body>
</html>